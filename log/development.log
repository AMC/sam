  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "username" varchar(255), "crypted_passwod" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193228')[0m
Migrating to CreateRoles (20091206193240)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193240')[0m
Migrating to CreateAuthorizations (20091206193250)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "role_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193250')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("authorizations")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
Migrating to CreateRoles (20091206193240)
Migrating to CreateAuthorizations (20091206193250)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("authorizations")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("roles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
/!\ FAILSAFE /!\  Sun Dec 06 11:48:41 -0800 2009
  Status: 500 Internal Server Error
  /Users/andrew/simpleacademic/login/app/controllers/application_controller.rb:22: syntax error, unexpected tIDENTIFIER, expecting kEND
    @current_user  current_user_session && current_user_session.record
                                       ^
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Sun Dec 06 11:48:49 -0800 2009
  Status: 500 Internal Server Error
  /Users/andrew/simpleacademic/login/app/controllers/application_controller.rb:22: syntax error, unexpected tIDENTIFIER, expecting kEND
    @current_user  current_user_session && current_user_session.record
                                       ^
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Sun Dec 06 11:48:53 -0800 2009
  Status: 500 Internal Server Error
  /Users/andrew/simpleacademic/login/app/controllers/application_controller.rb:22: syntax error, unexpected tIDENTIFIER, expecting kEND
    @current_user  current_user_session && current_user_session.record
                                       ^
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Sun Dec 06 11:49:22 -0800 2009
  Status: 500 Internal Server Error
  /Users/andrew/simpleacademic/login/app/controllers/application_controller.rb:22: syntax error, unexpected tIDENTIFIER, expecting kEND
    @current_user  current_user_session && current_user_session.record
                                       ^
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:50:41) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 34ms (View: 10, DB: 0) | 200 OK [http://localhost/users]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:50:47) [GET]
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 18ms (View: 13, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 11:50:49) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (3.0ms)
Completed in 24ms (View: 19, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 11:50:51) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Admin"}}
  [4;36;1mRole Create (0.6ms)[0m   [0;1mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('Admin', '2009-12-06 19:50:51', '2009-12-06 19:50:51')[0m
Redirected to http://localhost:3000/roles/1
Completed in 30ms (DB: 1) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 11:50:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://localhost/roles/1]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:50:53) [GET]
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 11:50:55) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (1.6ms)
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 11:50:57) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Teacher"}}
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('Teacher', '2009-12-06 19:50:57', '2009-12-06 19:50:57')[0m
Redirected to http://localhost:3000/roles/2
Completed in 9ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 11:50:57) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 16ms (View: 11, DB: 0) | 200 OK [http://localhost/roles/2]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:50:58) [GET]
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 11:51:00) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (1.7ms)
Completed in 75ms (View: 69, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 11:51:03) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Student"}}
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('Student', '2009-12-06 19:51:03', '2009-12-06 19:51:03')[0m
Redirected to http://localhost:3000/roles/3
Completed in 9ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 11:51:03) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/3]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:51:04) [GET]
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 18ms (View: 13, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:51:11) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 11:51:13) [GET]
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `password' for #<User:0x237556c>) on line #13 of app/views/users/_form.html.erb:
10:   </p>
11:   <p>
12:     <%= f.label :password %><br />
13:     <%= f.text_field :password %>
14:   </p>
15:   <p><%= f.submit "Submit" %></p>
16: <% end %>

    app/views/users/_form.html.erb:13
    app/views/users/_form.html.erb:1
    app/views/users/new.html.erb:3

Rendered rescues/_trace (111.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 11:52:07) [GET]
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `password' for #<User:0x246e360>) on line #13 of app/views/users/_form.html.erb:
10:   </p>
11:   <p>
12:     <%= f.label :password %><br />
13:     <%= f.password_field :password %>
14:   </p>
15:   <p>
16:     <%= f.label :password_confirmation %><br />

    app/views/users/_form.html.erb:13
    app/views/users/_form.html.erb:1
    app/views/users/new.html.erb:3

Rendered rescues/_trace (47.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 11:52:41) [GET]
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `password' for #<User:0x228e608>) on line #13 of app/views/users/_form.html.erb:
10:   </p>
11:   <p>
12:     <%= f.label :password %><br />
13:     <%= f.password_field :password %>
14:   </p>
15:   <p>
16:     <%= f.label :password_confirmation %><br />

    app/views/users/_form.html.erb:13
    app/views/users/_form.html.erb:1
    app/views/users/new.html.erb:3

Rendered rescues/_trace (47.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "username" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193228')[0m
Migrating to CreateRoles (20091206193240)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193240')[0m
Migrating to CreateAuthorizations (20091206193250)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "authorizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "role_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193250')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("authorizations")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 11:54:05) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (4.7ms)
Completed in 33ms (View: 16, DB: 0) | 200 OK [http://localhost/users/new]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:54:18) [GET]
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 11:54:20) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (2.3ms)
Completed in 24ms (View: 19, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 11:54:22) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Admin"}}
  [4;35;1mRole Create (0.5ms)[0m   [0mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('Admin', '2009-12-06 19:54:22', '2009-12-06 19:54:22')[0m
Redirected to http://localhost:3000/roles/1
Completed in 70ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 11:54:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/roles/1]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:54:23) [GET]
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 17ms (View: 13, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 11:54:24) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (1.6ms)
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 11:54:27) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Teacher"}}
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('Teacher', '2009-12-06 19:54:27', '2009-12-06 19:54:27')[0m
Redirected to http://localhost:3000/roles/2
Completed in 26ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 11:54:27) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 18ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/2]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:54:28) [GET]
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 18ms (View: 13, DB: 1) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 11:54:29) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (1.7ms)
Completed in 18ms (View: 13, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 11:54:33) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Teacher"}}
  [4;35;1mRole Create (0.4ms)[0m   [0mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('Teacher', '2009-12-06 19:54:33', '2009-12-06 19:54:33')[0m
Redirected to http://localhost:3000/roles/3
Completed in 11ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 11:54:33) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/3]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 11:54:34) [GET]
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 18ms (View: 14, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:54:38) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 11:54:40) [GET]
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (2.7ms)
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-12-06 11:54:50) [POST]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"123456", "username"=>"acanfield", "password"=>"123456"}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw="}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'acanfield') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '5c01d6bc23d53419ca00057fedadd26bfa15ed9ac4343a3df5e6116ab72559e7c96e9f3decccf51350b0381a2b2dd3e313425db735b2b10ddad86e14ef67cd45') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "updated_at", "crypted_password", "username", "password_salt", "persistence_token", "created_at") VALUES('Andrew Canfield', '2009-12-06 19:54:50', '850282769ba32fbdd06230e71c3c2ee2c757e76e56ff12ba1ce471c6684abd42180abb32fb751e10842bf46acb00f7dd7f9bd0177ee92c5d7b6e70be4cfcea68', 'acanfield', 'mdwVA0IBXWuuY15xBv2p', '5c01d6bc23d53419ca00057fedadd26bfa15ed9ac4343a3df5e6116ab72559e7c96e9f3decccf51350b0381a2b2dd3e313425db735b2b10ddad86e14ef67cd45', '2009-12-06 19:54:50')[0m
Redirected to http://localhost:3000/users/1
Completed in 199ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 11:54:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5c01d6bc23d53419ca00057fedadd26bfa15ed9ac4343a3df5e6116ab72559e7c96e9f3decccf51350b0381a2b2dd3e313425db735b2b10ddad86e14ef67cd45') LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `logout_path' for #<ActionView::Base:0x23df0d4>) on line #14 of app/views/layouts/application.html.erb:
11:       <div id="menu">
12:         <% if current_user %>
13:           <%= link_to "profile", edit_user_path(:current) %>
14:           <%= link_to "logout", logout_path %>
15:         <% else %>
16:           <% link_to "login", login_path %>
17:         <% end %>

    app/views/layouts/application.html.erb:14

Rendered rescues/_trace (86.6ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 11:55:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5c01d6bc23d53419ca00057fedadd26bfa15ed9ac4343a3df5e6116ab72559e7c96e9f3decccf51350b0381a2b2dd3e313425db735b2b10ddad86e14ef67cd45') LIMIT 1[0m
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 11:55:10) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5c01d6bc23d53419ca00057fedadd26bfa15ed9ac4343a3df5e6116ab72559e7c96e9f3decccf51350b0381a2b2dd3e313425db735b2b10ddad86e14ef67cd45') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (1.6ms)
Completed in 20ms (View: 6, DB: 0) | 200 OK [http://localhost/users/current/edit]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 11:55:13) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = '5c01d6bc23d53419ca00057fedadd26bfa15ed9ac4343a3df5e6116ab72559e7c96e9f3decccf51350b0381a2b2dd3e313425db735b2b10ddad86e14ef67cd45') LIMIT 1[0m

NameError (undefined local variable or method `root_url' for #<UserSessionsController:0x222b9a4>):
  app/controllers/user_sessions_controller.rb:20:in `destroy'

Rendered rescues/_trace (92.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 11:55:33) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.destroy):
  app/controllers/user_sessions_controller.rb:18:in `destroy'

Rendered rescues/_trace (28.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 11:55:46) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.destroy):
  app/controllers/user_sessions_controller.rb:18:in `destroy'

Rendered rescues/_trace (29.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-06 11:56:20) [GET]

NameError (uninitialized constant UserController):
  

Rendered rescues/_trace (24.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:56:30) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:56:52) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:57:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:57:06) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 11:57:08) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 11:57:12) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"123456"}, "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw="}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 11:57:12) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 11:57:15) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Rendered users/_form (1.6ms)
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 11:59:45) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
ERROR: compiling _run_erb_app47views47users47_form46html46erb_locals_form_object RAISED compile error
/Users/andrew/simpleacademic/login/app/views/users/_form.html.erb:29: syntax error, unexpected kENSURE, expecting kEND
/Users/andrew/simpleacademic/login/app/views/users/_form.html.erb:31: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47users47_form46html46erb_locals_form_object(local_assigns)
            old_output_buffer = output_buffer;form = local_assigns[:form];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ;  form_for @user do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :username ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :username ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :password ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.password_field :password ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :password_confirmation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.password_field :password_confirmation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    ";  for role in Role.find ; @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( check_box_tag "user[role_ids][]", role.id).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( role.name ).to_s); @output_buffer.concat " <br />\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  \n"
@output_buffer.concat "  <p>"; @output_buffer.concat(( f.submit "Submit" ).to_s); @output_buffer.concat "</p>\n"
@output_buffer.concat "  \n"
 end ; @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/login/app/views/users/_form.html.erb:31:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
/Users/andrew/simpleacademic/login/app/views/users/edit.html.erb:3:in `_run_erb_app47views47users47edit46html46erb'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/login/app/views/users/_form.html.erb:29: syntax error, unexpected kENSURE, expecting kEND
/Users/andrew/simpleacademic/login/app/views/users/_form.html.erb:31: syntax error, unexpected $end, expecting kEND) on line #29 of app/views/users/_form.html.erb:
26:   
27: <% end %>

    app/views/users/_form.html.erb:31:in `compile!'
    app/views/users/edit.html.erb:3

Rendered rescues/_trace (41.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:00:06) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (Couldn't find Role without an ID) on line #20 of app/views/users/_form.html.erb:
17:     <%= f.password_field :password_confirmation %>
18:   </p>
19:   <p>
20:     <% for role in Role.find %>
21:     <%= check_box_tag "user[role_ids][]", role.id%>
22:     <%= role.name %> <br />
23:     <% end %>

    app/views/users/_form.html.erb:20
    app/views/users/_form.html.erb:1
    app/views/users/edit.html.erb:3

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:00:16) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
Rendered users/_form (8.7ms)
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 12:00:25) [GET]
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 16, DB: 1) | 200 OK [http://localhost/roles]


Processing RolesController#edit (for 127.0.0.1 at 2009-12-06 12:00:27) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
Rendering template within layouts/application
Rendering roles/edit
Rendered roles/_form (2.0ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 23ms (View: 17, DB: 1) | 200 OK [http://localhost/roles/3/edit]


Processing RolesController#update (for 127.0.0.1 at 2009-12-06 12:00:31) [PUT]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "role"=>{"name"=>"Student"}, "id"=>"3"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;35;1mRole Update (0.3ms)[0m   [0mUPDATE "roles" SET "name" = 'Student', "updated_at" = '2009-12-06 20:00:31' WHERE "id" = 3[0m
Redirected to http://localhost:3000/roles/3
Completed in 10ms (DB: 1) | 302 Found [http://localhost/roles/3]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 12:00:31) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
Rendering template within layouts/application
Rendering roles/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 16, DB: 1) | 200 OK [http://localhost/roles/3]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 12:00:33) [GET]
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:00:35) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
Rendered users/_form (7.1ms)
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 12:00:42) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"", "role_ids"=>["1", "3"], "username"=>"acanfield", "password"=>""}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: role_ids
Redirected to http://localhost:3000/users/1
Completed in 17ms (DB: 0) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:00:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:00:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendered users/_form (7.9ms)
Completed in 87ms (View: 9, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 12:01:15) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"", "role_ids"=>["1", "3"], "username"=>"acanfield", "password"=>""}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: role_ids
Redirected to http://localhost:3000/users/1
Completed in 17ms (DB: 0) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:01:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 18ms (View: 8, DB: 2) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:01:56) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:01:59) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
Rendered users/_form (7.0ms)
Completed in 22ms (View: 8, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:03:03) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (14.5ms)
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 12:03:08) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"", "role_ids"=>["1", "3"], "username"=>"acanfield", "password"=>""}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: role_ids
Redirected to http://localhost:3000/users/1
Completed in 17ms (DB: 0) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:03:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:07:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.1ms)
Completed in 28ms (View: 13, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 12:07:53) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"", "role_ids"=>["1"], "username"=>"acanfield", "password"=>""}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE (("authorizations".user_id = 1)) [0m
  [4;36;1mAuthorization Create (0.4ms)[0m   [0;1mINSERT INTO "authorizations" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-06 20:07:53', 1, 1, '2009-12-06 20:07:53')[0m
Redirected to http://localhost:3000/users/1
Completed in 28ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:07:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:08:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (1.1ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (77.1ms)
Completed in 92ms (View: 77, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 12:08:46) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"", "role_ids"=>["1", "3"], "username"=>"acanfield", "password"=>""}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "id"=>"1"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,3)) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE (("authorizations".user_id = 1)) [0m
  [4;35;1mAuthorization Create (0.3ms)[0m   [0mINSERT INTO "authorizations" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-06 20:08:46', 3, 1, '2009-12-06 20:08:46')[0m
Redirected to http://localhost:3000/users/1
Completed in 29ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:08:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:09:01) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:09:04) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.1ms)
Completed in 27ms (View: 13, DB: 1) | 200 OK [http://localhost/users/current/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:09:07) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:09:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (13.6ms)
Completed in 95ms (View: 14, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:09:11) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 12:09:13) [GET]
Rendering template within layouts/application
Rendering users/new
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = NULL)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = NULL)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = NULL)) LIMIT 1[0m
Rendered users/_form (13.7ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 27ms (View: 18, DB: 1) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-12-06 12:09:25) [POST]
  Parameters: {"user"=>{"name"=>"Dave Jones", "password_confirmation"=>"123456", "role_ids"=>["2"], "username"=>"DJones", "password"=>"123456"}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw="}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'djones') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = '566b5701dfb5a0b2e5421792b0093ab86694d6de13e1c39a2c2094d4de811184b293182e7178d8c92c8acbbd89d7664211998472ae6cf05a99fc52942a923f03') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("name", "updated_at", "crypted_password", "username", "password_salt", "persistence_token", "created_at") VALUES('Dave Jones', '2009-12-06 20:09:25', 'b16a6816e958cd3dbddd13f0b6e63b69c89f303d2c07ab0d55cb99598c7170620c60baf87a15539cf35e16ff11119edfc885f53b540d42a25b37d1a38cf361fb', 'DJones', '5Bq0uLaZS8dAF3PogGT5', '566b5701dfb5a0b2e5421792b0093ab86694d6de13e1c39a2c2094d4de811184b293182e7178d8c92c8acbbd89d7664211998472ae6cf05a99fc52942a923f03', '2009-12-06 20:09:25')[0m
  [4;36;1mAuthorization Create (0.1ms)[0m   [0;1mINSERT INTO "authorizations" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-06 20:09:25', 2, 2, '2009-12-06 20:09:25')[0m
Redirected to http://localhost:3000/users/2
Completed in 31ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:09:25) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/users/2]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:09:27) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (77.7ms)
Completed in 93ms (View: 78, DB: 1) | 200 OK [http://localhost/users/2/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:12:03) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:12:05) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 2)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 2)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 2)) LIMIT 1[0m
Rendered users/_form (14.0ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 29ms (View: 19, DB: 2) | 200 OK [http://localhost/users/2/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:12:08) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=current):
  app/controllers/users_controller.rb:25:in `edit'

Rendered rescues/_trace (29.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:12:31) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=current):
  app/controllers/users_controller.rb:25:in `edit'

Rendered rescues/_trace (97.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:12:33) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 2)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 2)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 2)) LIMIT 1[0m
Rendered users/_form (13.7ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 29ms (View: 18, DB: 2) | 200 OK [http://localhost/users/2/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:12:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:12:36) [GET]
  Parameters: {"id"=>"current"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=current):
  app/controllers/users_controller.rb:25:in `edit'

Rendered rescues/_trace (29.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:13:22) [GET]
  Parameters: {"id"=>"current"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=current):
  app/controllers/users_controller.rb:25:in `edit'

Rendered rescues/_trace (30.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:13:23) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActionView::TemplateError (edit_user_url failed to generate from {:action=>"edit", :controller=>"users"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["users", :id, "edit"] - are they all satisfied?) on line #14 of app/views/layouts/application.html.erb:
11:       <div id="menu">
12:         <% if current_user %>
13:           <%= current_user %>
14:           <%= link_to "profile", edit_user_path() %>
15:           <%= link_to "logout", logout_path %>
16:         <% else %>
17:           <%= link_to "login", login_path %>

    (eval):16:in `edit_user_path'
    app/views/layouts/application.html.erb:14

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:13:31) [GET]
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 89ms (View: 12, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:13:41) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:13:45) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 20ms (View: 11, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:13:54) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 20ms (View: 11, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:13:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 1)) LIMIT 1[0m
Rendered users/_form (13.9ms)
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 28ms (View: 18, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 12:13:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:13:59) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 12:14:00) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 12:14:06) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"DJones", "password"=>"123456"}, "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw="}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'djones') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:14:06) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 12:14:11) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 1) AND (("authorizations".user_id = 2)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 2) AND (("authorizations".user_id = 2)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE ("roles"."id" = 3) AND (("authorizations".user_id = 2)) LIMIT 1[0m
Rendered users/_form (13.4ms)
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Completed in 28ms (View: 18, DB: 2) | 200 OK [http://localhost/users/2/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 12:14:28) [PUT]
  Parameters: {"user"=>{"name"=>"Dave Jones", "password_confirmation"=>"", "role_ids"=>["2"], "username"=>"djones", "password"=>""}, "commit"=>"Submit", "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw=", "id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "authorizations" ON "roles".id = "authorizations".role_id WHERE (("authorizations".user_id = 2)) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'djones' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "username" = 'djones', "updated_at" = '2009-12-06 20:14:28' WHERE "id" = 2[0m
Redirected to http://localhost:3000/users/2
Completed in 30ms (DB: 1) | 302 Found [http://localhost/users/2]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 12:14:29) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Completed in 81ms (View: 72, DB: 1) | 200 OK [http://localhost/users/2]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 12:14:44) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:14:44) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 12:14:46) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 12:15:23) [GET]
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 12:15:30) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"123456"}, "authenticity_token"=>"N1Vzu7VR5+qJXBQVNKzXE1psVHo8CgmPyHA+crLh0Lw="}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 12:15:30) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "username" varchar(255), "crypted_password" varchar(255), "password_salt" varchar(255), "persistence_token" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193228')[0m
Migrating to CreateRoles (20091206193240)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193240')[0m
Migrating to CreatePermissions (20091206193250)
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "role_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091206193250')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("permissions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:02:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 29ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 15:02:34) [GET]
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 15:02:36) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (8.1ms)
Completed in 51ms (View: 47, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 15:02:38) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "role"=>{"name"=>"admin"}}
  [4;36;1mRole Create (0.4ms)[0m   [0;1mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('admin', '2009-12-06 23:02:38', '2009-12-06 23:02:38')[0m
Redirected to http://localhost:3000/roles/1
Completed in 29ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 15:02:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://localhost/roles/1]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 15:02:40) [GET]
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 70ms (View: 66, DB: 0) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 15:02:42) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (1.6ms)
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 15:02:46) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "role"=>{"name"=>"teacher"}}
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('teacher', '2009-12-06 23:02:46', '2009-12-06 23:02:46')[0m
Redirected to http://localhost:3000/roles/2
Completed in 9ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 15:02:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://localhost/roles/2]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 15:02:47) [GET]
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 17ms (View: 13, DB: 1) | 200 OK [http://localhost/roles]


Processing RolesController#new (for 127.0.0.1 at 2009-12-06 15:02:49) [GET]
Rendering template within layouts/application
Rendering roles/new
Rendered roles/_form (1.6ms)
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://localhost/roles/new]


Processing RolesController#create (for 127.0.0.1 at 2009-12-06 15:02:52) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "role"=>{"name"=>"student"}}
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO "roles" ("name", "updated_at", "created_at") VALUES('student', '2009-12-06 23:02:52', '2009-12-06 23:02:52')[0m
Redirected to http://localhost:3000/roles/3
Completed in 24ms (DB: 0) | 302 Found [http://localhost/roles]


Processing RolesController#show (for 127.0.0.1 at 2009-12-06 15:02:52) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
Rendering template within layouts/application
Rendering roles/show
Completed in 77ms (View: 72, DB: 0) | 200 OK [http://localhost/roles/3]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 15:02:53) [GET]
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:03:00) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 15:03:02) [GET]
Rendering template within layouts/application
Rendering users/new
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m

ActionView::TemplateError (Expected /Users/andrew/simpleacademic/temp3/app/models/permission.rb to define Permission) on line #22 of app/views/users/_form.html.erb:
19:   <p>
20:     <%= f.label :roles %><br />
21:      <% for role in Role.all %>
22:        <%= check_box_tag "user[role_ids][]", role.id, @user.roles.include?(role) %>
23:        <%=h role.name %><br />
24:      <% end %>
25:   </p>

    app/views/users/_form.html.erb:22
    app/views/users/_form.html.erb:21:in `each'
    app/views/users/_form.html.erb:21
    app/views/users/_form.html.erb:1
    app/views/users/new.html.erb:3

Rendered rescues/_trace (113.2ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-12-06 15:03:27) [GET]
Rendering template within layouts/application
Rendering users/new
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = NULL)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = NULL)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = NULL)) LIMIT 1[0m
Rendered users/_form (12.7ms)
Completed in 24ms (View: 15, DB: 1) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-12-06 15:03:39) [POST]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"123456", "role_ids"=>["1", "3"], "username"=>"acanfield", "password"=>"123456"}, "commit"=>"Submit", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo="}
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,3)) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."username") = 'acanfield') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."persistence_token" = 'f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe948d629ca3f55d7764a136bb65a70b744a9440e91ad584c333362b49010a90a9d4f01b8f0107e9') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "updated_at", "crypted_password", "username", "password_salt", "persistence_token", "created_at") VALUES('Andrew Canfield', '2009-12-06 23:03:39', '4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28eb5b4f6925e9221567556985cb61388830fe6e0c8759a5b0b98628de4c22419b3550fbec6229f6', 'acanfield', 'j-0hyXdzDODpNonw7oSs', 'f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe948d629ca3f55d7764a136bb65a70b744a9440e91ad584c333362b49010a90a9d4f01b8f0107e9', '2009-12-06 23:03:39')[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-06 23:03:39', 1, 1, '2009-12-06 23:03:39')[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-06 23:03:39', 3, 1, '2009-12-06 23:03:39')[0m
Redirected to http://localhost:3000/users/1
Completed in 156ms (DB: 1) | 302 Found [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 15:03:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe948d629ca3f55d7764a136bb65a70b744a9440e91ad584c333362b49010a90a9d4f01b8f0107e9') LIMIT 1[0m
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/users/1]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 15:04:40) [GET]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."persistence_token" = 'f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe948d629ca3f55d7764a136bb65a70b744a9440e91ad584c333362b49010a90a9d4f01b8f0107e9') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 14ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:04:40) [GET]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 15:04:46) [GET]
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 18ms (View: 13, DB: 1) | 200 OK [http://localhost/roles]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 15:06:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 85ms (View: 79, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:06:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:07:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

NameError (uninitialized constant ApplicationController::Authorization):
  app/controllers/application_controller.rb:14

Rendered rescues/_trace (30.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:08:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

NameError (uninitialized constant ApplicationController::Authorization):
  app/controllers/application_controller.rb:14

Rendered rescues/_trace (31.1ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:08:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

NameError (uninitialized constant ApplicationController::Authorization):
  app/controllers/application_controller.rb:14

Rendered rescues/_trace (31.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:10:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

NameError (uninitialized constant ApplicationController::Authorization):
  app/controllers/application_controller.rb:14

Rendered rescues/_trace (31.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 15:11:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 30ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 16:30:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 42ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 16:30:18) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (15.5ms)
Completed in 65ms (View: 49, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 16:30:21) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,3)) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Redirected to http://localhost:3000/users/1
Completed in 29ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 16:30:21) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 21ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 16:30:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 37ms (View: 23, DB: 1) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 16:30:27) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 152ms (DB: 1) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 16:30:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 17ms (View: 3, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 16:31:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 16ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:31:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
The use of user.roles is deprecated.  Please add a method role_symbols to your User model.
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: User.roles doesn't return an Array of Symbols ([#<Role id: 1, name: "admin", created_at: "2009-12-06 23:02:38", updated_at: "2009-12-06 23:02:38">, #<Role id: 3, name: "student", created_at: "2009-12-06 23:02:52", updated_at: "2009-12-06 23:02:52">])
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 23ms (View: 1, DB: 1) | 403 Forbidden [http://localhost/roles]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:32:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
The use of user.roles is deprecated.  Please add a method role_symbols to your User model.
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: User.roles doesn't return an Array of Symbols ([#<Role id: 1, name: "admin", created_at: "2009-12-06 23:02:38", updated_at: "2009-12-06 23:02:38">, #<Role id: 3, name: "student", created_at: "2009-12-06 23:02:52", updated_at: "2009-12-06 23:02:52">])
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 22ms (View: 1, DB: 1) | 403 Forbidden [http://localhost/roles]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:33:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 96ms (View: 6, DB: 1) | 200 OK [http://localhost/roles]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 16:33:54) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 16ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 16:33:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:33:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Permission denied: No matching rules found for index for #<Authorization::GuestUser:0x2442080 @role_symbols=[:guest]> (roles [:guest], privileges [:index], context :roles).
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 11ms (View: 1, DB: 0) | 403 Forbidden [http://localhost/roles]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 16:34:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 16:34:06) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 15ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 16:34:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 86ms (View: 2, DB: 1) | 200 OK [http://localhost/]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:34:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 27ms (View: 3, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 16:34:21) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.7ms)
Completed in 29ms (View: 13, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 16:34:25) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
Redirected to http://localhost:3000/users/1
Completed in 25ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 16:34:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 18ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:34:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 27ms (View: 3, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 16:34:43) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 00:34:43', 3, 1, '2009-12-07 00:34:43')[0m
Redirected to http://localhost:3000/users/1
Completed in 29ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 16:34:43) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 19ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:34:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for index for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:index], context :roles).
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 22ms (View: 1, DB: 1) | 403 Forbidden [http://localhost/roles]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 16:39:10) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (75.9ms)
Completed in 92ms (View: 77, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 16:39:12) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"ekWmx9QCS1BlmxHzqYkely4NFQPTWgDcmHeqoR2uTLo=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,3)) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Create (0.3ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 00:39:12', 1, 1, '2009-12-07 00:39:12')[0m
Redirected to http://localhost:3000/users/1
Completed in 29ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 16:39:12) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 18ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:43:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/roles]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 16:43:56) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 15ms (DB: 0) | 302 Found [http://localhost/logout]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 16:43:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 86ms (View: 74, DB: 0) | 200 OK [http://localhost/]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:43:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Permission denied: No matching rules found for index for #<Authorization::GuestUser:0x25df7bc @role_symbols=[:guest]> (roles [:guest], privileges [:index], context :roles).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 11ms (DB: 0) | 302 Found [http://localhost/roles]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 16:43:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 16:44:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Permission denied: No matching rules found for index for #<Authorization::GuestUser:0x24faa7c @role_symbols=[:guest]> (roles [:guest], privileges [:index], context :roles).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 10ms (DB: 0) | 302 Found [http://localhost/roles]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 16:44:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 17:41:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 33ms (View: 11, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
Migrating to CreateRoles (20091206193240)
Migrating to CreatePermissions (20091206193250)
Migrating to CreateCourses (20091207014335)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "courses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207014335')[0m
Migrating to CreateAssignments (20091207014416)
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "assignments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "due_date" date, "points_possible" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207014416')[0m
Migrating to CreateAnnouncements (20091207022038)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "announcements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" varchar(255), "course_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207022038')[0m
Migrating to CreateGrades (20091207023246)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TABLE "grades" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer, "assignment_id" integer, "points_earned" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207023246')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("announcements")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("assignments")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("courses")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("grades")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("permissions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("roles")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 18:37:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 30ms (View: 7, DB: 0) | 200 OK [http://localhost/]


Processing CoursesController#new (for 127.0.0.1 at 2009-12-06 18:37:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"courses"}
Rendering template within layouts/application
Rendering courses/new
Rendered courses/_form (3.2ms)
Completed in 26ms (View: 12, DB: 0) | 200 OK [http://localhost/courses/new]


Processing CoursesController#create (for 127.0.0.1 at 2009-12-06 18:37:49) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"courses", "course"=>{"name"=>"CIS 282", "description"=>"Introduction to Ruby"}}
  [4;35;1mCourse Create (0.4ms)[0m   [0mINSERT INTO "courses" ("name", "updated_at", "description", "created_at") VALUES('CIS 282', '2009-12-07 02:37:49', 'Introduction to Ruby', '2009-12-07 02:37:49')[0m
Redirected to http://localhost:3000/courses/1
Completed in 29ms (DB: 0) | 302 Found [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 18:37:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
Completed in 20ms (View: 5, DB: 0) | 200 OK [http://localhost/courses/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 18:37:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/courses]


Processing CoursesController#new (for 127.0.0.1 at 2009-12-06 18:37:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"courses"}
Rendering template within layouts/application
Rendering courses/new
Rendered courses/_form (2.0ms)
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/courses/new]


Processing CoursesController#create (for 127.0.0.1 at 2009-12-06 18:38:19) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"courses", "course"=>{"name"=>"CIS 247", "description"=>"Emerging Technologies"}}
  [4;36;1mCourse Create (0.4ms)[0m   [0;1mINSERT INTO "courses" ("name", "updated_at", "description", "created_at") VALUES('CIS 247', '2009-12-07 02:38:19', 'Emerging Technologies', '2009-12-07 02:38:19')[0m
Redirected to http://localhost:3000/courses/2
Completed in 20ms (DB: 0) | 302 Found [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 18:38:19) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 2) [0m
Rendering template within layouts/application
Rendering courses/show
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/courses/2]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 18:38:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 75ms (View: 4, DB: 0) | 200 OK [http://localhost/courses]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
Migrating to CreateRoles (20091206193240)
Migrating to CreatePermissions (20091206193250)
Migrating to CreateCourses (20091207014335)
Migrating to CreateAssignments (20091207014416)
Migrating to CreateAnnouncements (20091207022038)
Migrating to CreateGrades (20091207023246)
Migrating to CreateComments (20091207024058)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "assignment_id" integer, "user_id" integer, "text" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207024058')[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("announcements")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("assignments")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("courses")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("grades")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("permissions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 18:41:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
Completed in 34ms (View: 9, DB: 0) | 200 OK [http://localhost/courses/1]
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
Migrating to CreateRoles (20091206193240)
Migrating to CreatePermissions (20091206193250)
Migrating to CreateCourses (20091207014335)
Migrating to CreateAssignments (20091207014416)
Migrating to CreateAnnouncements (20091207022038)
Migrating to CreateGrades (20091207023246)
Migrating to CreateComments (20091207024058)
Migrating to CreateEnrollments (20091207024904)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE TABLE "enrollments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "course_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207024904')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("announcements")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("assignments")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("courses")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("enrollments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("grades")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("permissions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("roles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 18:55:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mAnnouncement Load (0.2ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 23ms (View: 4, DB: 0) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 18:55:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
Rendered announcements/_form (2.9ms)
Completed in 25ms (View: 8, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 18:56:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendered announcements/_form (11.9ms)
Completed in 33ms (View: 15, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 18:56:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendered announcements/_form (11.1ms)
Completed in 33ms (View: 14, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#create (for 127.0.0.1 at 2009-12-06 18:57:39) [POST]
  Parameters: {"announcement"=>{"name"=>"Welcome to CIS 282", "description"=>"We're going to abstract the hell out of everything so none of it works!", "course_id"=>"1"}, "commit"=>"Submit", "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"announcements"}
  [4;36;1mAnnouncement Create (0.4ms)[0m   [0;1mINSERT INTO "announcements" ("name", "updated_at", "description", "course_id", "created_at") VALUES('Welcome to CIS 282', '2009-12-07 02:57:39', 'We''re going to abstract the hell out of everything so none of it works!', 1, '2009-12-07 02:57:39')[0m
Redirected to http://localhost:3000/announcements/1
Completed in 30ms (DB: 0) | 302 Found [http://localhost/announcements]


Processing AnnouncementsController#show (for 127.0.0.1 at 2009-12-06 18:57:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"announcements"}
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements"."id" = 1) [0m
Rendering template within layouts/application
Rendering announcements/show
Completed in 24ms (View: 5, DB: 0) | 200 OK [http://localhost/announcements/1]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 18:57:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mAnnouncement Load (0.6ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 76ms (View: 4, DB: 1) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 18:57:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM "courses" [0m
Rendered announcements/_form (9.7ms)
Completed in 29ms (View: 11, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 18:58:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendered announcements/_form (10.3ms)
Completed in 30ms (View: 13, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 18:58:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendered announcements/_form (67.8ms)
Completed in 95ms (View: 71, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#create (for 127.0.0.1 at 2009-12-06 21:15:00) [POST]
  Parameters: {"announcement"=>{"name"=>"Frustration", "description"=>"If I could actually write the sql statements this would be alot easier. ", "course_id"=>"1"}, "commit"=>"Submit", "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"announcements"}
  [4;36;1mAnnouncement Create (0.3ms)[0m   [0;1mINSERT INTO "announcements" ("name", "updated_at", "description", "course_id", "created_at") VALUES('Frustration', '2009-12-07 05:15:00', 'If I could actually write the sql statements this would be alot easier. ', 1, '2009-12-07 05:15:00')[0m
Redirected to http://localhost:3000/announcements/2
Completed in 23ms (DB: 0) | 302 Found [http://localhost/announcements]


Processing AnnouncementsController#show (for 127.0.0.1 at 2009-12-06 21:15:00) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"announcements"}
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements"."id" = 2) [0m
Rendering template within layouts/application
Rendering announcements/show
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/announcements/2]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 21:15:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 21ms (View: 4, DB: 0) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 21:21:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
Rendering template within layouts/application
Rendering announcements/new
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendered announcements/_form (10.5ms)
Completed in 87ms (View: 12, DB: 0) | 200 OK [http://localhost/announcements/new]


Processing AnnouncementsController#create (for 127.0.0.1 at 2009-12-06 21:22:00) [POST]
  Parameters: {"announcement"=>{"name"=>"Really", "description"=>"It's going to be this much of a challenge.", "course_id"=>"2"}, "commit"=>"Submit", "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"announcements"}
  [4;36;1mAnnouncement Create (0.7ms)[0m   [0;1mINSERT INTO "announcements" ("name", "updated_at", "description", "course_id", "created_at") VALUES('Really', '2009-12-07 05:22:00', 'It''s going to be this much of a challenge.', 2, '2009-12-07 05:22:00')[0m
Redirected to http://localhost:3000/announcements/3
Completed in 22ms (DB: 1) | 302 Found [http://localhost/announcements]


Processing AnnouncementsController#show (for 127.0.0.1 at 2009-12-06 21:22:00) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"announcements"}
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements"."id" = 3) [0m
Rendering template within layouts/application
Rendering announcements/show
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/announcements/3]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 21:22:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mAnnouncement Load (0.5ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 22ms (View: 5, DB: 0) | 200 OK [http://localhost/announcements]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 21:22:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 86ms (View: 7, DB: 0) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:22:23) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
Completed in 21ms (View: 3, DB: 0) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:23:32) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show

ActionView::TemplateError (undefined local variable or method `course' for #<ActionView::Base:0x2514648>) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <%= course.id%>

    app/views/courses/show.html.erb:19

Rendered rescues/_trace (95.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:23:40) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
Completed in 24ms (View: 5, DB: 0) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:24:16) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
ERROR: compiling _run_erb_app47views47courses47show46html46erb RAISED compile error
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:19: syntax error, unexpected ')', expecting tASSOC
... "course_id = ?", @course.id ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47courses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Course" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <strong>Name:</strong>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @course.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <strong>Description:</strong>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @course.description ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_course_path(@course) ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Destroy", @course, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "View All", courses_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( Announcement.find(:all, :conditions => "course_id = ?", @course.id ).to_s); @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:23:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:19: syntax error, unexpected ')', expecting tASSOC
... "course_id = ?", @course.id ).to_s); @output_buffer.concat ...
                              ^) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <%= Announcement.find(:all, :conditions => "course_id = ?", @course.id %>

    app/views/courses/show.html.erb:23:in `compile!'

Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:25:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
ERROR: compiling _run_erb_app47views47courses47show46html46erb RAISED compile error
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:19: syntax error, unexpected ';', expecting ')'
..._id = ?", @course.id] ).to_s); @output_buffer.concat "\n"
                              ^
Function body:           def _run_erb_app47views47courses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Course" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <strong>Name:</strong>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @course.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <strong>Description:</strong>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @course.description ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_course_path(@course) ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Destroy", @course, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "View All", courses_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( Announcement.find(:all, :conditions => ["course_id = ?", @course.id] ).to_s); @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:23:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:19: syntax error, unexpected ';', expecting ')'
..._id = ?", @course.id] ).to_s); @output_buffer.concat "\n"
                              ^) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <%= Announcement.find(:all, :conditions => ["course_id = ?", @course.id] %>

    app/views/courses/show.html.erb:23:in `compile!'

Rendered rescues/_trace (33.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:25:37) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 29ms (View: 10, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:25:46) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.7ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 31ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:26:00) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 29ms (View: 10, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:26:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 29ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:26:09) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 89ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:26:16) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 29ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:26:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 29ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "announcements" [0m
  [4;35;1mAnnouncement Load (0.5ms)[0m   [0mSELECT * FROM "announcements" [0m
  [4;36;1mAnnouncement Load (0.3ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 2) [0m
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE (course_id = 2) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 2) [0m
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE (course_id = 2) [0m


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:31:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (1.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 84ms (View: 9, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:31:18) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 28ms (View: 9, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:31:51) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `accouncement' for #<ActionView::Base:0x24e7404>) on line #20 of app/views/courses/show.html.erb:
17: 
18: <p>
19:   <% announcement = Announcement.find(:all, :conditions => ["course_id = ?", @course.id]) %>
20:   <%= accouncement.each { |a| a}%>

    app/views/courses/show.html.erb:20

Rendered rescues/_trace (93.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:32:12) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 29ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:32:21) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 30ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:32:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 89ms (View: 12, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:32:34) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 30ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:32:51) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
ERROR: compiling _run_erb_app47views47courses47show46html46erb RAISED compile error
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:20: syntax error, unexpected '['
...( announcements.each { |a| a.[1] }).to_s); @output_buffer.co...
                              ^
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:22: syntax error, unexpected kENSURE, expecting '}'
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:24: syntax error, unexpected kEND, expecting '}'
Function body:           def _run_erb_app47views47courses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Course" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <strong>Name:</strong>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @course.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  <strong>Description:</strong>\n"
@output_buffer.concat "  "; @output_buffer.concat((h @course.description ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Edit", edit_course_path(@course) ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "Destroy", @course, :confirm => 'Are you sure?', :method => :delete ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat "  "; @output_buffer.concat(( link_to "View All", courses_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<p>\n"
@output_buffer.concat "  ";  announcements = Announcement.find(:all, :conditions => ["course_id = ?", @course.id]) ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( announcements.each { |a| a.[1] }).to_s); @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:24:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:20: syntax error, unexpected '['
...( announcements.each { |a| a.[1] }).to_s); @output_buffer.co...
                              ^
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:22: syntax error, unexpected kENSURE, expecting '}'
/Users/andrew/simpleacademic/sam/app/views/courses/show.html.erb:24: syntax error, unexpected kEND, expecting '}') on line #20 of app/views/courses/show.html.erb:
17: 
18: <p>
19:   <% announcements = Announcement.find(:all, :conditions => ["course_id = ?", @course.id]) %>
20:   <%= announcements.each { |a| a.[1] }%>

    app/views/courses/show.html.erb:24:in `compile!'

Rendered rescues/_trace (95.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:33:01) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE (course_id = 1) [0m
Completed in 30ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:37:30) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show

ActionView::TemplateError (undefined method `announcements' for #<Course:0x24d6654>) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <% for announcement in @course.announcements %>
20:     <%= announcement.name %> <br />
21:   <% end %>
22:   

    app/views/courses/show.html.erb:19

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:38:03) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 27ms (View: 7, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:38:44) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 28ms (View: 10, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:39:02) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 217ms (View: 199, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:39:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 30ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:39:32) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 28ms (View: 10, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:39:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 29ms (View: 10, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:43:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 32ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 21:43:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 19ms (View: 5, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 21:43:32) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"djones", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'djones') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 146ms (View: 3, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 21:43:39) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"DJones", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'djones') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/user_sessions]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 21:43:47) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 20ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 21:43:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 26ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 21:43:50) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (14.5ms)
Completed in 39ms (View: 20, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 21:43:52) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"2"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2,3)) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 05:43:52', 2, 1, '2009-12-07 05:43:52')[0m
Redirected to http://localhost:3000/users/1
Completed in 33ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 21:43:52) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 24ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 21:43:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 23ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 21:44:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 25ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:44:02) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 43ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:45:22) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.roles) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <%= @user.roles %>
20:   <% if permitted_to? :new, @announcement %>
21:     <% link_to "new", :controller => "announcements", :action => "new" %>
22:   <% end %>

    app/views/courses/show.html.erb:19

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:45:32) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show

ActionView::TemplateError (undefined local variable or method `user' for #<ActionView::Base:0x232d9c4>) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <%= user.roles %>
20:   <% if permitted_to? :new, @announcement %>
21:     <% link_to "new", :controller => "announcements", :action => "new" %>
22:   <% end %>

    app/views/courses/show.html.erb:19

Rendered rescues/_trace (103.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:45:38) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 53ms (View: 27, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:45:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 19, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:45:54) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.5ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 43ms (View: 20, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:46:09) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.3ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 19, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:46:16) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 104ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:46:19) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 19, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 21:46:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (13.3ms)
Completed in 32ms (View: 14, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 21:46:34) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Delete all (0.1ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
Redirected to http://localhost:3000/users/1
Completed in 100ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 21:46:34) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 19ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 21:46:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 25ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:46:43) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 99ms (View: 77, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:46:54) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 33ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:47:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:47:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 106ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:47:13) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 33ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:47:20) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 32ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 21:47:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering announcements/new
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendered announcements/_form (10.2ms)
Completed in 98ms (View: 11, DB: 1) | 200 OK [http://localhost/announcements/new]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:48:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 43ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:48:30) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:48:34) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 40ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 21:53:04) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.7ms)
Completed in 32ms (View: 13, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 21:53:07) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"2"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2,3)) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 05:53:07', 1, 1, '2009-12-07 05:53:07')[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 05:53:07', 3, 1, '2009-12-07 05:53:07')[0m
Redirected to http://localhost:3000/users/1
Completed in 34ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 21:53:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 23ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 21:53:17) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (13.0ms)
Completed in 32ms (View: 14, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:53:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:54:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 44ms (View: 20, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:54:14) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show

ActionView::TemplateError (undefined local variable or method `announcements' for #<ActionView::Base:0x24c59e4>) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <% if permitted_to? :new, announcements %>  
20:     Woot
21:   <% end %>
22: 

    app/views/courses/show.html.erb:19

Rendered rescues/_trace (98.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:54:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 43ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:55:54) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show

ActionView::TemplateError (undefined local variable or method `announcement' for #<ActionView::Base:0x236c4d0>) on line #19 of app/views/courses/show.html.erb:
16: </p>
17: 
18: <p>
19:   <% if permitted_to? :edit, announcement  %>  
20:     Woot
21:   <% end %>
22: 

    app/views/courses/show.html.erb:19

Rendered rescues/_trace (103.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:56:11) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:56:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 42ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:57:00) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 43ms (View: 21, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 21:58:58) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 38ms (View: 16, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:00:19) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.5ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 109ms (View: 24, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:00:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 25ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:00:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:00:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (13.4ms)
Completed in 34ms (View: 14, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:00:36) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Delete all (0.1ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
Redirected to http://localhost:3000/users/1
Completed in 30ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:00:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 23ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:00:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 87ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:00:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 40ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:00:57) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.7ms)
Completed in 31ms (View: 13, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:00:59) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 2 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:00:59', 1, 1, '2009-12-07 06:00:59')[0m
Redirected to http://localhost:3000/users/1
Completed in 98ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:00:59) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 22ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:01:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 25ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:01:03) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 38ms (View: 16, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:01:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 44ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:01:46) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 19, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:02:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 105ms (View: 21, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:02:23) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 42ms (View: 19, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:02:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 42ms (View: 19, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:03:10) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 43ms (View: 20, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:03:33) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 39ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:03:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (13.3ms)
Completed in 96ms (View: 14, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:03:38) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:03:38', 2, 1, '2009-12-07 06:03:38')[0m
Redirected to http://localhost:3000/users/1
Completed in 33ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:03:38) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 24ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:03:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 25ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:03:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:04:01) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 39ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:04:09) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 101ms (View: 79, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:04:45) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 40ms (View: 17, DB: 1) | 200 OK [http://localhost/courses/1]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 22:04:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Rendering template within layouts/application
Rendering announcements/new
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendered announcements/_form (8.5ms)
Completed in 39ms (View: 10, DB: 1) | 200 OK [http://localhost/announcements/new]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:05:30) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 22:05:31) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 0) | 302 Found [http://localhost/logout]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:05:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
Permission denied: No matching rules found for index for #<Authorization::GuestUser:0x2313948 @role_symbols=[:guest]> (roles [:guest], privileges [:index], context :courses).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 14ms (DB: 0) | 302 Found [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:05:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 16ms (View: 2, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:05:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
Permission denied: No matching rules found for index for #<Authorization::GuestUser:0x25807d0 @role_symbols=[:guest]> (roles [:guest], privileges [:index], context :courses).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 13ms (DB: 0) | 302 Found [http://localhost/courses]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:05:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 22:05:45) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:05:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:05:48) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for edit for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher], privileges [:edit], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 26ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:05:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 22ms (View: 4, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:06:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.3ms)
Completed in 31ms (View: 13, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:06:17) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"2"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2,3)) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:06:17', 1, 1, '2009-12-07 06:06:17')[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:06:17', 3, 1, '2009-12-07 06:06:17')[0m
Redirected to http://localhost:3000/users/1
Completed in 99ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:06:17) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 22ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:06:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 33ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:06:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 98ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:07:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 8, DB: 1) | 200 OK [http://localhost/courses]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:07:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:07:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 103ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:08:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 39ms (View: 8, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:09:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:09:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 103ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:09:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:10:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:10:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 96ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 103ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 35ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:11:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:12:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 103ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:12:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 35ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:12:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 22:12:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for index for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher, :admin, :student], privileges [:index], context :assignments).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 26ms (DB: 1) | 302 Found [http://localhost/assignments]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:12:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 27ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CommentsController#index (for 127.0.0.1 at 2009-12-06 22:12:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for index for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher, :admin, :student], privileges [:index], context :comments).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 24ms (DB: 1) | 302 Found [http://localhost/comments]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:12:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 25ms (View: 3, DB: 1) | 200 OK [http://localhost/login]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 22:12:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 64ms (View: 36, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 22:12:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 28ms (View: 2, DB: 1) | 200 OK [http://localhost/users]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:12:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:13:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.5ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 35ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:13:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.5ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:13:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.5ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:13:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.5ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 34ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:13:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:14:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 99ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:14:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 35ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 22:14:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Load (0.2ms)[0m   [0mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/assignments]


Processing CommentsController#index (for 127.0.0.1 at 2009-12-06 22:14:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m

NameError (uninitialized constant CommentsController::Comments):
  app/controllers/comments_controller.rb:7:in `index'

Rendered rescues/_trace (30.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 22:15:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
Rendering template within layouts/application
Rendering roles/index
Completed in 29ms (View: 3, DB: 1) | 200 OK [http://localhost/roles]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 22:15:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/application
Rendering users/index
Completed in 29ms (View: 3, DB: 1) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
Migrating to CreateRoles (20091206193240)
Migrating to CreatePermissions (20091206193250)
Migrating to CreateCourses (20091207014335)
Migrating to CreateAssignments (20091207014416)
Migrating to CreateAnnouncements (20091207022038)
Migrating to CreateGrades (20091207023246)
Migrating to CreateComments (20091207024058)
Migrating to CreateEnrollments (20091207024904)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("announcements")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("assignments")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("courses")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("enrollments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("grades")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("permissions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("roles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing CommentsController#index (for 127.0.0.1 at 2009-12-06 22:16:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m

NameError (uninitialized constant CommentsController::Comments):
  app/controllers/comments_controller.rb:7:in `index'

Rendered rescues/_trace (29.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:16:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:16:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (5.1ms)
Completed in 35ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:16:53) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Delete all (0.1ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
Redirected to http://localhost:3000/users/1
Completed in 32ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:16:53) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for show for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher], privileges [:show], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 25ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:16:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 86ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:17:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:17:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:17:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 96ms (View: 68, DB: 1) | 200 OK [http://localhost/announcements]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 22:17:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAssignment Load (0.2ms)[0m   [0;1mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 31ms (View: 1, DB: 1) | 200 OK [http://localhost/assignments]


Processing CommentsController#index (for 127.0.0.1 at 2009-12-06 22:17:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m

NameError (uninitialized constant CommentsController::Comments):
  app/controllers/comments_controller.rb:7:in `index'

Rendered rescues/_trace (29.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 22:17:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Load (0.2ms)[0m   [0mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED compile error
/Users/andrew/simpleacademic/sam/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting ')'
/Users/andrew/simpleacademic/sam/app/views/layouts/application.html.erb:43: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n"
@output_buffer.concat "  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "  <head>\n"
@output_buffer.concat "    <title>"; @output_buffer.concat(( h(yield(:title) || "Untitled") ).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "    "; @output_buffer.concat(( stylesheet_link_tag 'application' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    "; @output_buffer.concat(( yield(:head) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </head>\n"
@output_buffer.concat "  <body>\n"
@output_buffer.concat "    <div id=\"container\">\n"
@output_buffer.concat "      <div id=\"menu\">\n"
@output_buffer.concat "        ";  if current_user ; @output_buffer.concat "\n"
@output_buffer.concat "          "; @output_buffer.concat(( link_to "home", courses_path ).to_s); @output_buffer.concat " : \n"
@output_buffer.concat "          "; @output_buffer.concat(( link_to "profile", edit_user_path(current_user.id) ).to_s); @output_buffer.concat " :\n"
@output_buffer.concat "          "; @output_buffer.concat(( link_to "logout", logout_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "        ";  else ; @output_buffer.concat "\n"
@output_buffer.concat "          "; @output_buffer.concat(( link_to "login", login_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "        ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "      </div>\n"
@output_buffer.concat "      <div id=\"temp_menu\">\n"
@output_buffer.concat "        "; @output_buffer.concat(( link_to "announcements", announcements_path ).to_s); @output_buffer.concat " :\n"
@output_buffer.concat "        "; @output_buffer.concat(( link_to "assignments", assignments_path ).to_s); @output_buffer.concat " :\n"
@output_buffer.concat "        "; @output_buffer.concat(( # link_to "comments", comments_path ).to_s); @output_buffer.concat " :\n"
@output_buffer.concat "        "; @output_buffer.concat(( link_to "roles", roles_path ).to_s); @output_buffer.concat " :\n"
@output_buffer.concat "        "; @output_buffer.concat(( link_to "users", users_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "        \n"
@output_buffer.concat "      </div>\n"
 flash.each do |name, msg| 
@output_buffer.concat "        "; @output_buffer.concat(( content_tag :div, msg, :id => "flash_#{name}" ).to_s); @output_buffer.concat "\n"
 end 
@output_buffer.concat "      \n"
 if show_title? 
@output_buffer.concat "        <h1>"; @output_buffer.concat((h yield(:title) ).to_s); @output_buffer.concat "</h1>\n"
 end 
@output_buffer.concat "      \n"
@output_buffer.concat "      "; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </div>\n"
@output_buffer.concat "  </body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/sam/app/views/layouts/application.html.erb:43:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/sam/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting ')'
/Users/andrew/simpleacademic/sam/app/views/layouts/application.html.erb:43: syntax error, unexpected kEND, expecting ')') on line #41 of app/views/layouts/application.html.erb:
38:   </body>
39: </html>

    app/views/layouts/application.html.erb:43:in `compile!'

Rendered rescues/_trace (34.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 22:17:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAssignment Load (0.1ms)[0m   [0;1mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/assignments]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:17:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:18:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.5ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 34ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 22:18:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Load (0.2ms)[0m   [0mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 95ms (View: 66, DB: 1) | 200 OK [http://localhost/assignments]


Processing RolesController#index (for 127.0.0.1 at 2009-12-06 22:18:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for index for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher], privileges [:index], context :roles).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 25ms (DB: 1) | 302 Found [http://localhost/roles]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:18:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 22:18:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for index for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher], privileges [:index], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 24ms (DB: 1) | 302 Found [http://localhost/users]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:18:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 88ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 22:18:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 34ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:18:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:18:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 106ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:20:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for edit for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:teacher], privileges [:edit], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 25ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:20:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 19ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:20:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 100ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:20:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing UserSessionsController#destroy (for 127.0.0.1 at 2009-12-06 22:20:23) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 0) | 302 Found [http://localhost/logout]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:20:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
Permission denied: No matching rules found for index for #<Authorization::GuestUser:0x22c3330 @role_symbols=[:guest]> (roles [:guest], privileges [:index], context :courses).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 14ms (DB: 0) | 302 Found [http://localhost/]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:20:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 86ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#create (for 127.0.0.1 at 2009-12-06 22:20:28) [POST]
  Parameters: {"commit"=>"Submit", "user_session"=>{"username"=>"acanfield", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE (LOWER("users".username) = 'acanfield') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 0) | 302 Found [http://localhost/user_sessions]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:20:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 35ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:20:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.7ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:21:03) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"2"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2,3)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Create (0.3ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:21:03', 1, 1, '2009-12-07 06:21:03')[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:21:03', 3, 1, '2009-12-07 06:21:03')[0m
Redirected to http://localhost:3000/users/1
Completed in 38ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:21:03) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:21:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 97ms (View: 67, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:22:43) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

Authorization::Reader::DSLSyntaxError (Illegal DSL syntax: undefined method `has_permissio_on' for #<Authorization::Reader::AuthorizationRulesReader:0x2537bac>):
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:65:in `parse'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:72:in `load'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/authorization.rb:70:in `initialize'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/authorization.rb:261:in `new'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/authorization.rb:261:in `instance'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:32:in `authorization_engine'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:580:in `permit!'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `filter_access_filter'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `each'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `all?'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `filter_access_filter'

Rendered rescues/_trace (35.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:22:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

Authorization::Reader::DSLError (if_attribute only in has_permission blocks):
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:337:in `if_attribute'
  config/authorization_rules.rb:13:in `parse'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:176:in `role'
  config/authorization_rules.rb:10:in `parse'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:91:in `instance_eval'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:91:in `authorization'
  config/authorization_rules.rb:1:in `parse'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/reader.rb:72:in `load'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/authorization.rb:70:in `initialize'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/authorization.rb:261:in `new'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/authorization.rb:261:in `instance'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:32:in `authorization_engine'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:580:in `permit!'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `filter_access_filter'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `each'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `all?'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:111:in `filter_access_filter'

Rendered rescues/_trace (109.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:23:07) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (5.2ms)
Completed in 34ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:23:12) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 2 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Delete all (0.1ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
Redirected to http://localhost:3000/users/1
Completed in 33ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:23:12) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for show for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:show], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 95ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:23:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:23:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:23:18) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 107ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:23:20) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for edit for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:edit], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 26ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:23:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:23:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 100ms (View: 70, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:08) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for edit for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:edit], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 26ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:24:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 19ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:24:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 35ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:27) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for edit for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:edit], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 27ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:24:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 21ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:38) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.8ms)
Completed in 32ms (View: 14, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:24:42) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}, {"2"=>nil}, {"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" IN (1,2,3)) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:24:42', 1, 1, '2009-12-07 06:24:42')[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:24:42', 2, 1, '2009-12-07 06:24:42')[0m
Redirected to http://localhost:3000/users/1
Completed in 100ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:24:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 20ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:45) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (12.6ms)
Completed in 32ms (View: 13, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.9ms)
Completed in 34ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:24:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:54) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.8ms)
Completed in 34ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:24:56) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"1"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Delete all (0.1ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 2 AND "permissions"."user_id" = 1) [0m
Redirected to http://localhost:3000/users/1
Completed in 99ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:24:57) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 32ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:24:58) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.5ms)
Completed in 34ms (View: 5, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:25:03) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 1 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:25:03', 2, 1, '2009-12-07 06:25:03')[0m
Redirected to http://localhost:3000/users/1
Completed in 104ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:25:03) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 32ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:25:04) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.5ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:25:07) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.3ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 2 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:25:08', 3, 1, '2009-12-07 06:25:08')[0m
Redirected to http://localhost:3000/users/1
Completed in 104ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:25:08) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for show for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:show], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 28ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:25:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 19ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:25:09) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for edit for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:edit], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 26ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:25:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 91ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:25:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 42ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:25:45) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.5ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:25:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 105ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:26:00) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: Error when calling user on #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> for validating attribute: undefined method `user' for #<User:0x24d4ca0>
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 27ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:26:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 19ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:26:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 102ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:26:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:26:19) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: Error when calling user on #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> for validating attribute: undefined method `user' for #<User:0x233dd4c>
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 26ms (DB: 1) | 302 Found [http://localhost/users/1/edit]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:26:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:26:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:26:42) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.8ms)
Completed in 34ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:26:47) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Redirected to http://localhost:3000/users/1
Completed in 31ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 22:26:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for show for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:show], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 28ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 22:26:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:27:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.5ms)
Completed in 33ms (View: 5, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:27:32) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Redirected to http://localhost:3000/
Completed in 99ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:27:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:27:51) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:27:54) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (5.1ms)
Completed in 105ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:27:57) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:27:57', 2, 1, '2009-12-07 06:27:57')[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:27:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:27:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:27:59) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 40ms (View: 7, DB: 1) | 200 OK [http://localhost/courses/1]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 22:28:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Rendering template within layouts/application
Rendering announcements/new
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendered announcements/_form (9.0ms)
Completed in 105ms (View: 10, DB: 1) | 200 OK [http://localhost/announcements/new]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:41:47) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (5.1ms)
Completed in 35ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:41:49) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 2 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 06:41:49', 3, 1, '2009-12-07 06:41:49')[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:41:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 112ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:41:51) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 42ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:42:33) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 40ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:42:59) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 42ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:43:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 41ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:43:08) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 114ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:43:14) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
Completed in 42ms (View: 8, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:44:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: assignments.course_id: SELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: assignments.course_id: SELECT * FROM "assignments" WHERE ("assignments".course_id = 1) ) on line #35 of app/views/courses/show.html.erb:
32:     <%= link_to "new", :controller => "assignments", :action => "new" %> <br />
33:   <% end %>
34: 
35:   <% for assignment in @course.assignments %>
36:     <%= announcement.name %> -------------
37:     <%= announcement.due_date %><br />
38:     <%= announcement.description %> <br /> <br />

    app/views/courses/show.html.erb:35

Rendered rescues/_trace (45.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:45:31) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: assignments.course_id: SELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: assignments.course_id: SELECT * FROM "assignments" WHERE ("assignments".course_id = 1) ) on line #35 of app/views/courses/show.html.erb:
32:     <%= link_to "new", :controller => "assignments", :action => "new" %> <br />
33:   <% end %>
34: 
35:   <% for assignment in @course.assignments %>
36:     <%= announcement.name %> -------------
37:     <%= announcement.due_date %><br />
38:     <%= announcement.description %> <br /> <br />

    app/views/courses/show.html.erb:35

Rendered rescues/_trace (45.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091206193228)
Migrating to CreateRoles (20091206193240)
Migrating to CreatePermissions (20091206193250)
Migrating to CreateCourses (20091207014335)
Migrating to CreateAssignments (20091207014416)
Migrating to CreateAnnouncements (20091207022038)
Migrating to CreateGrades (20091207023246)
Migrating to CreateComments (20091207024058)
Migrating to CreateEnrollments (20091207024904)
Migrating to AddCourseIdToAssignments (20091207064652)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "assignments" ADD "course_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091207064652')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("announcements")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("assignments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("comments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("courses")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("enrollments")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("grades")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("permissions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("roles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:48:21) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.2ms)[0m   [0;1mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m
Completed in 45ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:48:48) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
Rendered users/_form (4.7ms)
Completed in 36ms (View: 6, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:49:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.1ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (18.7ms)
Completed in 50ms (View: 21, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:50:24) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "course_ids"=>[{"1"=>nil}, {"2"=>nil}], "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.9ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" IN (1,2)) [0m
  [4;35;1mCourse Load (0.1ms)[0m   [0mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
  [4;36;1mEnrollment Create (0.3ms)[0m   [0;1mINSERT INTO "enrollments" ("updated_at", "user_id", "course_id", "created_at") VALUES('2009-12-07 06:50:24', 1, 1, '2009-12-07 06:50:24')[0m
  [4;35;1mEnrollment Create (0.1ms)[0m   [0mINSERT INTO "enrollments" ("updated_at", "user_id", "course_id", "created_at") VALUES('2009-12-07 06:50:24', 1, 2, '2009-12-07 06:50:24')[0m
Redirected to http://localhost:3000/
Completed in 134ms (DB: 3) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:50:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:50:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (81.6ms)
Completed in 111ms (View: 82, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:50:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 22:50:29) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.2ms)[0m   [0;1mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m
Completed in 45ms (View: 12, DB: 1) | 200 OK [http://localhost/courses/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:50:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 112ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 22:50:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (17.0ms)
Completed in 47ms (View: 17, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 22:50:37) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "course_ids"=>[{"1"=>nil}], "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
  [4;35;1mEnrollment Delete all (0.3ms)[0m   [0mDELETE FROM "enrollments" WHERE ("enrollments"."user_id" = 1 AND "enrollments"."course_id" = 2) [0m
Redirected to http://localhost:3000/
Completed in 109ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:50:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 39ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:52:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: user_id: SELECT * FROM "courses" WHERE (user_id=1) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: user_id: SELECT * FROM "courses" WHERE (user_id=1) ):
  app/controllers/courses_controller.rb:5:in `index'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 22:59:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: user_id: SELECT * FROM "courses" WHERE (user_id=1) [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: user_id: SELECT * FROM "courses" WHERE (user_id=1) ):
  app/controllers/courses_controller.rb:5:in `index'

Rendered rescues/_trace (35.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:04:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `find_users' for #<Class:0x25f6b10>):
  app/controllers/courses_controller.rb:5:in `index'

Rendered rescues/_trace (29.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:07:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Course without an ID):
  app/controllers/courses_controller.rb:5:in `index'

Rendered rescues/_trace (29.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:07:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:14:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index

ActionView::TemplateError (undefined method `permitted_to' for #<ActionView::Base:0x2431780>) on line #3 of app/views/courses/index.html.erb:
1: <% title "Courses" %>
2: 
3: <% if permitted_to :new, @course %>
4:   <p><%= link_to "New Course", new_course_path %></p>
5: <% end %>
6: 

    app/views/courses/index.html.erb:3

Rendered rescues/_trace (106.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:14:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 39ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:14:28) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.1ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (86.1ms)
Completed in 116ms (View: 86, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 23:14:32) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}], "username"=>"acanfield", "course_ids"=>[{"1"=>nil}], "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM "roles" WHERE ("roles"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mPermission Delete all (0.3ms)[0m   [0;1mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 3 AND "permissions"."user_id" = 1) [0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 07:14:32', 2, 1, '2009-12-07 07:14:32')[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Redirected to http://localhost:3000/
Completed in 46ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:14:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:14:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 113ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:14:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.1ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (16.9ms)
Completed in 47ms (View: 17, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 23:14:42) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "course_ids"=>[{"1"=>nil}], "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Delete all (0.4ms)[0m   [0mDELETE FROM "permissions" WHERE ("permissions"."role_id" = 2 AND "permissions"."user_id" = 1) [0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 07:14:42', 3, 1, '2009-12-07 07:14:42')[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Redirected to http://localhost:3000/
Completed in 112ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:14:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 40ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:14:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:15:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 48ms (View: 12, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 23:15:26) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;35;1mAssignment Load (0.2ms)[0m   [0mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m
Completed in 45ms (View: 12, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:15:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 106ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:16:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 39ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:16:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 23:16:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.2ms)[0m   [0;1mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m
Completed in 48ms (View: 11, DB: 2) | 200 OK [http://localhost/courses/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:17:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:17:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 105ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:17:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:18:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:19:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
ERROR: compiling _run_erb_app47views47courses47index46html46erb RAISED compile error
/Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:11: syntax error, unexpected kEND, expecting ')'
 end ; @output_buffer.concat "\n"
    ^
/Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:16: syntax error, unexpected kENSURE, expecting ')'
/Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:18: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47courses47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  title "Courses" ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
 if permitted_to? :new, @course ; @output_buffer.concat "\n"
@output_buffer.concat "  <p>"; @output_buffer.concat(( link_to "New Course", new_course_path ).to_s); @output_buffer.concat "</p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul>\n"
 for course in @courses ; @output_buffer.concat "\n"
@output_buffer.concat "  <li>"; @output_buffer.concat(( course.name ).to_s); @output_buffer.concat " - "; @output_buffer.concat(( link_to #{course.description}, course ).to_s); @output_buffer.concat "</li>\n"
@output_buffer.concat "\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:18:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:11: syntax error, unexpected kEND, expecting ')'
 end ; @output_buffer.concat "\n"
    ^
/Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:16: syntax error, unexpected kENSURE, expecting ')'
/Users/andrew/simpleacademic/sam/app/views/courses/index.html.erb:18: syntax error, unexpected kEND, expecting ')') on line #11 of app/views/courses/index.html.erb:
8: <% for course in @courses %>
9:   <li><%= course.name %> - <%= link_to #{course.description}, course %></li>
10: 
11: <% end %>

    app/views/courses/index.html.erb:18:in `compile!'

Rendered rescues/_trace (34.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:19:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:19:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 40ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:20:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:20:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 108ms (View: 7, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:20:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:20:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:21:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:23:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:23:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 104ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:23:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:23:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 113ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 107ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:24:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:25:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:25:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:25:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:25:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 105ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:25:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:25:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 113ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 108ms (View: 5, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:26:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 37ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:27:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:27:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 38ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:27:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.1ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (16.9ms)
Completed in 47ms (View: 17, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:27:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for show for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:show], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 95ms (DB: 1) | 302 Found [http://localhost/users/1]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 23:27:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 21ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:28:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:28:10) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.1ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (18.1ms)
Completed in 116ms (View: 18, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:28:11) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 31ms (View: 2, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:28:50) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 32ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:28:57) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 105ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:29:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 32ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:29:16) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:29:33) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:30:17) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:30:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:31:01) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 34ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:31:45) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:31:55) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 100ms (View: 5, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:32:22) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 30ms (View: 1, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:32:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #12 of app/views/layouts/application.html.erb:
9:   <body>
10:     <div id="container">
11:       <div class="info">
12:         <%= @user.name %>
13:       </div>
14:       <div id="menu">
15:         <% if current_user %>

    app/views/layouts/application.html.erb:12

Rendered rescues/_trace (35.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:32:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 40ms (View: 8, DB: 1) | 200 OK [http://localhost/courses]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:33:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 42ms (View: 8, DB: 1) | 200 OK [http://localhost/courses]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:33:10) [GET]
  Parameters: {"action"=>"show", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:139:in `load_controller_object'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:488:in `send'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:488:in `filter_resource_access'

Rendered rescues/_trace (31.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:34:06) [GET]
  Parameters: {"action"=>"show", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:139:in `load_controller_object'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:488:in `send'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:488:in `filter_resource_access'

Rendered rescues/_trace (32.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:34:10) [GET]
  Parameters: {"action"=>"show", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:139:in `load_controller_object'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:488:in `send'
  /Users/andrew/.gem/ruby/1.8/gems/declarative_authorization-0.4/lib/declarative_authorization/in_controller.rb:488:in `filter_resource_access'

Rendered rescues/_trace (31.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2009-12-06 23:34:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for index for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:index], context :users).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 28ms (DB: 1) | 302 Found [http://localhost/users]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 23:34:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 20ms (View: 3, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:34:38) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.1ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (16.5ms)
Completed in 47ms (View: 17, DB: 3) | 200 OK [http://localhost/users/1/edit]
/!\ FAILSAFE /!\  Sun Dec 06 23:35:32 -0800 2009
  Status: 500 Internal Server Error
  undefined local variable or method `current_user' for main:Object
    /Users/andrew/simpleacademic/sam/config/routes.rb:47
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:226:in `draw'
    /Users/andrew/simpleacademic/sam/config/routes.rb:1
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:145:in `load_without_new_constant_marking'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:145:in `load'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:145:in `load'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:286:in `load_routes!'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:286:in `each'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:286:in `load_routes!'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:266:in `load!'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:281:in `reload'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:59:in `reload_application'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:28:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
    /Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-06 23:35:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"course"}

NameError (uninitialized constant CourseController):
  

Rendered rescues/_trace (79.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:36:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 98ms (View: 65, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:37:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index

ActionView::TemplateError (undefined method `show_user_path' for #<ActionView::Base:0x25824a4>) on line #16 of app/views/layouts/application.html.erb:
13:       </div>
14:       <div id="menu">
15:         <% if current_user %>
16:           <%= link_to "home", show_user_path(current_user.id) %> %> : 
17:           <%= link_to "profile", edit_user_path(current_user.id) %> :
18:           <%= link_to "logout", logout_path %>
19:         <% else %>

    app/views/layouts/application.html.erb:16

Rendered rescues/_trace (35.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:37:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 119ms (View: 9, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:37:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 41ms (View: 8, DB: 1) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-06 23:37:43) [GET]

ActionController::RoutingError (No route matches "/user/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-06 23:37:53) [GET]

ActionController::RoutingError (No route matches "/user/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-12-06 23:37:56) [GET]

ActionController::RoutingError (No route matches "/user/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:37:59) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.1ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (17.0ms)
Completed in 52ms (View: 21, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:38:17) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM "roles" [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM "courses" [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (81.5ms)
Completed in 116ms (View: 86, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:38:32) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (17.2ms)
Completed in 52ms (View: 21, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:38:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
Completed in 30ms (View: 1, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:40:46) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.courses) on line #7 of app/views/users/show.html.erb:
4:     <%= link_to "new", :controller => "courses", :action => "new" %> <br />
5:   <% end %>
6: 
7:   <% for course in @User.courses %>
8:     <%= course.name %>
9:   <% end %>
10:   

    app/views/users/show.html.erb:7

Rendered rescues/_trace (35.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:41:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.courses) on line #7 of app/views/users/show.html.erb:
4:     <%= link_to "new", :controller => "courses", :action => "new" %> <br />
5:   <% end %>
6: 
7:   <% for course in @User.courses %>
8:     <%= course.name %>
9:   <% end %>
10:   

    app/views/users/show.html.erb:7

Rendered rescues/_trace (36.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:42:20) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Completed in 43ms (View: 14, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:42:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Completed in 121ms (View: 14, DB: 1) | 200 OK [http://localhost/users/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:43:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
ERROR: compiling _run_erb_app47views47users47show46html46erb RAISED compile error
/Users/andrew/simpleacademic/sam/app/views/users/show.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
..._to course.name + " - " course.description, course ).to_s); ...
                              ^
/Users/andrew/simpleacademic/sam/app/views/users/show.html.erb:8: syntax error, unexpected ')', expecting '='
..." course.description, course ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47users47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<p>\n"
@output_buffer.concat "  <h2> Courses </h2>\n"
@output_buffer.concat "  ";  if permitted_to? :create, @courses  ; @output_buffer.concat "  \n"
@output_buffer.concat "    "; @output_buffer.concat(( link_to "new", :controller => "courses", :action => "new" ).to_s); @output_buffer.concat " <br />\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "<ul>\n"
@output_buffer.concat "  ";  for course in @user.courses ; @output_buffer.concat "\n"
@output_buffer.concat "    <li>"; @output_buffer.concat(( link_to course.name + " - " course.description, course ).to_s); @output_buffer.concat " </li>\n"
@output_buffer.concat "  ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "  \n"
@output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/andrew/simpleacademic/sam/app/views/users/show.html.erb:16:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Users/andrew/.gem/ruby/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.3/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/andrew/simpleacademic/sam/app/views/users/show.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting ')'
..._to course.name + " - " course.description, course ).to_s); ...
                              ^
/Users/andrew/simpleacademic/sam/app/views/users/show.html.erb:8: syntax error, unexpected ')', expecting '='
..." course.description, course ).to_s); @output_buffer.concat ...
                              ^) on line #8 of app/views/users/show.html.erb:
5:   <% end %>
6: <ul>
7:   <% for course in @user.courses %>
8:     <li><%= link_to course.name + " - " course.description, course %> </li>
9:   <% end %>
10:   
11: </p>

    app/views/users/show.html.erb:16:in `compile!'

Rendered rescues/_trace (102.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:43:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Completed in 45ms (View: 15, DB: 1) | 200 OK [http://localhost/users/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 23:43:38) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;35;1mAssignment Load (0.1ms)[0m   [0mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m
Completed in 47ms (View: 12, DB: 1) | 200 OK [http://localhost/courses/1]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:43:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.1ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (17.8ms)
Completed in 53ms (View: 18, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 23:43:51) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"3"=>nil}], "username"=>"acanfield", "course_ids"=>[{"1"=>nil}, {"2"=>nil}], "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCourse Load (0.7ms)[0m   [0mSELECT * FROM "courses" WHERE ("courses"."id" IN (1,2)) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
  [4;35;1mEnrollment Create (0.3ms)[0m   [0mINSERT INTO "enrollments" ("updated_at", "user_id", "course_id", "created_at") VALUES('2009-12-07 07:43:51', 1, 2, '2009-12-07 07:43:51')[0m
Redirected to http://localhost:3000/
Completed in 46ms (DB: 2) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:43:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 41ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 23:43:53) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 2) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 2) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 2) [0m
  [4;36;1mAssignment Load (0.1ms)[0m   [0;1mSELECT * FROM "assignments" WHERE ("assignments".course_id = 2) [0m
Completed in 46ms (View: 11, DB: 1) | 200 OK [http://localhost/courses/2]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:46:52) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Completed in 113ms (View: 13, DB: 1) | 200 OK [http://localhost/users/1]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 23:47:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mAssignment Load (0.1ms)[0m   [0;1mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 31ms (View: 1, DB: 1) | 200 OK [http://localhost/assignments]


Processing AssignmentsController#new (for 127.0.0.1 at 2009-12-06 23:47:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"assignments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Permission denied: No matching rules found for new for #<User id: 1, name: "Andrew Canfield", username: "acanfield", crypted_password: "4a5f9e14a3b7362ec4a39fede2c707e8cf3bce48d2d9cbfb28e...", password_salt: "j-0hyXdzDODpNonw7oSs", persistence_token: "f098c2dd09913167e9298f8b6833d3f1f35677cc220fab8bfe9...", created_at: "2009-12-06 23:03:39", updated_at: "2009-12-06 23:03:39"> (roles [:student], privileges [:new], context :assignments).
Redirected to http://localhost:3000/login
Filter chain halted as [:filter_access_filter] rendered_or_redirected.
Completed in 29ms (DB: 1) | 302 Found [http://localhost/assignments/new]


Processing UserSessionsController#new (for 127.0.0.1 at 2009-12-06 23:47:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 91ms (View: 3, DB: 1) | 200 OK [http://localhost/login]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:47:20) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (16.8ms)
Completed in 48ms (View: 17, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-12-06 23:47:22) [PUT]
  Parameters: {"user"=>{"name"=>"Andrew Canfield", "password_confirmation"=>"[FILTERED]", "role_ids"=>[{"2"=>nil}, {"3"=>nil}], "username"=>"acanfield", "course_ids"=>[{"1"=>nil}, {"2"=>nil}], "password"=>"[FILTERED]"}, "commit"=>"Submit", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM "roles" WHERE ("roles"."id" IN (2,3)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mPermission Create (0.6ms)[0m   [0mINSERT INTO "permissions" ("updated_at", "role_id", "user_id", "created_at") VALUES('2009-12-07 07:47:22', 2, 1, '2009-12-07 07:47:22')[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" IN (1,2)) [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Redirected to http://localhost:3000/
Completed in 115ms (DB: 3) | 302 Found [http://localhost/users/1]


Processing CoursesController#index (for 127.0.0.1 at 2009-12-06 23:47:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"courses"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendering template within layouts/application
Rendering courses/index
Completed in 42ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 23:47:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Load (0.1ms)[0m   [0mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 30ms (View: 1, DB: 1) | 200 OK [http://localhost/assignments]


Processing AssignmentsController#new (for 127.0.0.1 at 2009-12-06 23:47:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"assignments"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Rendering template within layouts/application
Rendering assignments/new
Rendered assignments/_form (3.6ms)
Completed in 113ms (View: 10, DB: 1) | 200 OK [http://localhost/assignments/new]


Processing UsersController#edit (for 127.0.0.1 at 2009-12-06 23:48:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM "roles" [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 1) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 2) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT "roles".id FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE ("roles"."id" = 3) AND (("permissions".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 1) AND (("enrollments".user_id = 1)) LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT "courses".id FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE ("courses"."id" = 2) AND (("enrollments".user_id = 1)) LIMIT 1[0m
Rendered users/_form (17.2ms)
Completed in 49ms (View: 17, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing AnnouncementsController#index (for 127.0.0.1 at 2009-12-06 23:48:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"announcements"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" [0m
Rendering template within layouts/application
Rendering announcements/index
Completed in 34ms (View: 5, DB: 1) | 200 OK [http://localhost/announcements]


Processing AnnouncementsController#new (for 127.0.0.1 at 2009-12-06 23:48:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"announcements"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Rendering template within layouts/application
Rendering announcements/new
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendered announcements/_form (8.7ms)
Completed in 42ms (View: 10, DB: 1) | 200 OK [http://localhost/announcements/new]


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 23:49:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Load (0.2ms)[0m   [0mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 30ms (View: 1, DB: 1) | 200 OK [http://localhost/assignments]


Processing AssignmentsController#new (for 127.0.0.1 at 2009-12-06 23:49:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"assignments"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
Rendering template within layouts/application
Rendering assignments/new
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM "courses" [0m
Rendered assignments/_form (12.2ms)
Completed in 111ms (View: 15, DB: 1) | 200 OK [http://localhost/assignments/new]


Processing AssignmentsController#create (for 127.0.0.1 at 2009-12-06 23:49:32) [POST]
  Parameters: {"commit"=>"Submit", "assignment"=>{"name"=>"Battleship", "due_date(1i)"=>"2009", "due_date(2i)"=>"12", "due_date(3i)"=>"10", "points_possible"=>"35", "description"=>"", "course_id"=>"1"}, "action"=>"create", "authenticity_token"=>"TlJ3NYnNs0+ddry8Dh9KNeS8vmRrHOB0TuwH5Us+FcM=", "controller"=>"assignments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Create (0.3ms)[0m   [0mINSERT INTO "assignments" ("name", "updated_at", "description", "points_possible", "due_date", "course_id", "created_at") VALUES('Battleship', '2009-12-07 07:49:33', '', 35.0, '2009-12-10', 1, '2009-12-07 07:49:33')[0m
Redirected to http://localhost:3000/assignments/1
Completed in 36ms (DB: 1) | 302 Found [http://localhost/assignments]


Processing AssignmentsController#show (for 127.0.0.1 at 2009-12-06 23:49:33) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"assignments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mAssignment Load (0.3ms)[0m   [0mSELECT * FROM "assignments" WHERE ("assignments"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "assignments" WHERE ("assignments"."id" = 1) [0m
Rendering template within layouts/application
Rendering assignments/show
Completed in 37ms (View: 5, DB: 1) | 200 OK [http://localhost/assignments/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:49:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Completed in 46ms (View: 13, DB: 2) | 200 OK [http://localhost/users/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 23:49:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.3ms)[0m   [0;1mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m

ActionView::TemplateError (undefined method `due_date' for #<Announcement:0x2364668>) on line #37 of app/views/courses/show.html.erb:
34: 
35:   <% for assignment in @course.assignments %>
36:     <%= announcement.name %> -------------
37:     <%= announcement.due_date %><br />
38:     <%= announcement.description %> <br /> <br />
39: 
40:   <% end %>

    app/views/courses/show.html.erb:37
    app/views/courses/show.html.erb:35

Rendered rescues/_trace (110.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing AssignmentsController#index (for 127.0.0.1 at 2009-12-06 23:49:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"assignments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mAssignment Load (0.3ms)[0m   [0mSELECT * FROM "assignments" [0m
Rendering template within layouts/application
Rendering assignments/index
Completed in 33ms (View: 5, DB: 1) | 200 OK [http://localhost/assignments]


Processing AssignmentsController#show (for 127.0.0.1 at 2009-12-06 23:49:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"assignments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mAssignment Load (0.3ms)[0m   [0mSELECT * FROM "assignments" WHERE ("assignments"."id" = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "assignments" WHERE ("assignments"."id" = 1) [0m
Rendering template within layouts/application
Rendering assignments/show
Completed in 34ms (View: 2, DB: 1) | 200 OK [http://localhost/assignments/1]


Processing UsersController#show (for 127.0.0.1 at 2009-12-06 23:50:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT "courses".* FROM "courses" INNER JOIN "enrollments" ON "courses".id = "enrollments".course_id WHERE (("enrollments".user_id = 1)) [0m
Completed in 44ms (View: 12, DB: 2) | 200 OK [http://localhost/users/1]


Processing CoursesController#show (for 127.0.0.1 at 2009-12-06 23:50:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"courses"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = '1') LIMIT 1[0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT "roles".* FROM "roles" INNER JOIN "permissions" ON "roles".id = "permissions".role_id WHERE (("permissions".user_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "courses" WHERE ("courses"."id" = 1) [0m
Rendering template within layouts/application
Rendering courses/show
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM "announcements" WHERE ("announcements".course_id = 1) [0m
  [4;36;1mAssignment Load (0.3ms)[0m   [0;1mSELECT * FROM "assignments" WHERE ("assignments".course_id = 1) [0m
Completed in 52ms (View: 17, DB: 2) | 200 OK [http://localhost/courses/1]
